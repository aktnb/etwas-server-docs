# ワールドエディットのヒント

### [WorldEdit](https://modrinth.com/plugin/worldedit)  
**※クリエイティブワールドにあらかじめ入っているので必須ではない**

### [WorldEditCUI](https://www.curseforge.com/minecraft/mc-mods/worldeditcui-fabric)
**編集範囲の可視化ができるのでオススメ**

### [WorldEditの全コマンド](https://worldedit.enginehub.org/en/latest/commands/)

## 🧱WorldEditの簡単な説明

WorldEditは、**ブロックを一括で編集できる**MOD・プラグイン。  
通常なら1個ずつ置いたり壊したりする作業を、コマンドやツール操作で一瞬で行える。  
**面倒な広範囲のブロック設置**、**複雑な形状をコピー＆ペースト**などなど……。 

**⚠️大規模な操作が可能ゆえ、一度に大量のブロック情報を変更するとクラッシュする場合があるので注意⚠️**  

### ↓覚えておきたいコマンド↓  
---

#### 1️⃣編集範囲の選択

デフォルトでは直方体の編集範囲（cuboid）になる。  
`//sel`コマンドにより、選択モードの変更ができる。また、`//sel list`で選択モードの種類と説明が見られる。


- **木の斧の入手**
`//wand`
編集範囲の指定には、基本的に**木の斧**を使うことになる。  
**編集範囲1**の指定が`左クリック`、**編集範囲2**の指定が`右クリック`。

- **自分の立ち位置に編集範囲を指定する**  
編集範囲1の指定`//pos1 [x,y,z]`  
編集範囲2の指定`//pos2 [x,y,z]`  

>プレイヤーの足部分の高さが基準になる。  
  空中で編集範囲を指定したいときに便利。

#### 2️⃣ブロックの設置  

編集範囲を指定した前提でのコマンド。

- **ブロックを置く**
`//set <ブロック>`  
  **例：** *編集範囲にオークの板材を置く*  
`//set oak_planks`

> 応用として、`set 0`もしくは`//set air`とすると、指定した範囲に空気ブロックを設置、つまり範囲内のブロックを消すことができる。
  
- **ブロックを置き換える**
`//rep <元> <新>`  
  **例：** *編集範囲の土をオークの板材に置き換える*  
`//rep dirt oak_planks`  

>`//rep`はコマンドの短縮形なので、本来は`//replace`。  
`^` を使うことにより、階段、ハーフブロック、フェンス、塀などの **方角** や **上下** などの情報を維持したまま置き換えることができる。  
  **例：** *向きはそのままでオークの階段をシラカバの階段に置き換える*  
`//rep oak_stairs ^birch_stairs`

- **編集範囲のブロックを動かす**
`//move [距離] [方向] [ブロック] [マスク]`  
  **例：** *編集範囲を3ブロック上に動かす*  
  `//move 3 u`

>向きの指定を入れない場合、自分の向いている方向に移動する。  

- **編集範囲のブロックを繰り返し設置する**
`//stack <回数> [方向] [マスク]`  
  **例：** *編集範囲を5回北に設置する*  
  `//stack 5 n`

>向きの指定を入れない場合、自分の向いている方向に設置する。  

- **編集範囲1から編集範囲2への直線を設置する**
`//line <ブロック> [線の太さ]`  
  **例：** *指定した範囲にオークの板材の直線を設置する*  
  `//line oak_planks`

#### 3️⃣コピー＆ペースト関連

- **コピーする**
`//copy [マスク]`  
  **例：** *編集範囲の土のみをコピーする*  
 `//copy -m dirt`

>**コピーする際、自身の立ち位置を参照する。**  
  コピーしたものは`//rep`コマンドにも使用可能。作った模様をコピーして、指定した範囲のブロックをその模様に置き換えるような使い方ができる。  
  **例：** *オークの板材をコピーしたものに置き換える*  
  `//rep oak_planks #clipboard`

- **切り取る**
`//cut [マスク]`  
  **例：** *編集範囲の土のみを切り取る*  
 `//cut -m dirt`

- **貼り付ける**
`//paste [ソースマスク]`  
  **例：** *空気ブロックを省いてクリップボードの内容を貼り付ける*  
  `//paste -a`

- **コピーしたものを回転する**
`//rotate [Y軸] [X軸] [Z軸]`  
  **例：** *クリップボードの内容を270度回転させる*  
  `//rotate 270`

>基本的にY軸の指定までしか使わず、時計回りで回転する。45度も可能だが、形が崩れるので実用的ではない。

- **コピーしたものを反転する**
`//flip <方向>`  
  **例：** *クリップボードの内容を下に反転させる*  
  `//flip d`

>向きの指定を入れない場合、自分の向いている方向に反転する。

- **元に戻す、やり直す**
`//undo [回数]` `//redo [回数]`  
  **例：** *3回元に戻す*  
`//undo 3`  

>WorldEditで行った作業に作用する。MAX15回まで。  
やりがちなミスとして、コマンドを使ったあと手作業をして、ミスに気づいて`//undo`しようとする。  
しかし手作業した部分は消えない、ということがある。  

#### 4️⃣自分の立ち位置を中心とするブロック設置

- **円柱を設置する**
`//cyl <ブロック> <半径> <高さ>`  
  **例：** *自分の立ち位置を中心に半径10ブロックのオークの板材の円を設置する*  
  `//cyl oak_planks 10`  

>`//hcyl`にすることにより、中が空洞の円の設置ができる  

- **球体を設置する**
`//sphere <ブロック> <半径>`  
  **例：** *自分の立ち位置を中心に半径5ブロックの安山岩を設置する*  
  `//sphere andesite 5`  

>`//hsphere`にすることにより、中を空洞の球体が設置できる  


#### 5️⃣同じ操作を連続で使いたいときのブラシコマンド

ブラシコマンドは、現在手に持っているアイテムにコマンドを付与できる。  
右クリックで狙った場所にあるブロックにコマンドが発動する。
ブラシ関連コマンドは、`//` ではなく、`/`になる。  

⚠️かなり連続した操作になるため、`//undo`コマンドが使えなくならないように意識すること。⚠️  

**基本のブラシ構文**  

- **球体を生成する**
`/brush sphere <ブロック> [半径]`  
  **例：** *手に持っているアイテムを**半径3の石の球体を設置する**ブラシに変える*  
  `/brush sphere stone 3`  

>おおまかな地形作りに有効。配置の仕方によって隙間が生まれるため、**砂**のような落下物を指定するといい。

- **地形をなめらかにする**
`/brush smooth [半径] [回数]`  
  **例：** *手に持っているアイテムを**半径5ブロックの地形を3回分なめらかにする**ブラシに変える*  
  `/brush smooth 5 3`  

- **コピーした編集範囲を貼り付け**
`/brush clipboard [ソースマスク]`  
  **例：** *手に持っているアイテムを**空気ブロックを除いたコピーしたものを設置する**ブラシに変える*  
  `/brush clipboard -a`  

>そのまま使うと大体の場合、クリップボードの中心点を基準に設置してしまうため、設置したものが地面に埋まる。  
  なので、`-ao`をつける。そうすることにより設置する基準を**コピーしたときの自分の位置**にできる。  
  それでも1ブロック埋まってしまう場合、`//copy`を使う際自身の立ち位置を**編集範囲の1ブロック下**（プレイヤーの頭部分が選択範囲内になる感じ）にすると丁度良くなる。

- **地形を盛り上げる**
`/brush raise <形状> [半径]`  
  **例：** *手に持っているアイテムを**半径3ブロックの球状の範囲を盛り上げる**ブラシに変える*  
  `/brush raise sphere 3`  

- **地形を削る**
`/brush lower <形状> [半径]`  
  **例：** *手に持っているアイテムを**半径4ブロックの立方体の範囲を削る**ブラシに変える*  
  `/brush lower cuboid 4`  

- **ブラシ設定の削除**
`/brush none`  

>ブラシ作業が終わったときは事故防止のため、必ず使うこと。

- **ブラシ設定の確認**
`/brush info`  

##### 🈯ブラシコマンドにほぼ必須のマスク  
ブラシはそのままだと全ブロックに影響する。
`/mask`でどのブロックに作用するかを限定できる。  
**例：**  
| コマンド                | 効果           |
| ------------------- | ------------ |
| `/mask grass_block` | 草ブロックだけ編集対象に |
| `/mask !air`        | 空気以外を対象に     |
| `/mask stone,dirt`  | 石と土だけに作用     |
| `/mask`             | マスク解除        |


#### 6️⃣好きな曲線を作れる凸多面体（convexコマンド）

`//sel convex`で、編集範囲を凸多面体にできる。  
左クリック（pos1）で始点を設定し、右クリック（pos2）で頂点を追加していくモード。  
頂点は20回、始点を含めると21箇所設定できる。

- **曲線を設置する**  
  `//curve <ブロック> [線の太さ]`  
  **例：** *半径3ブロックで中空の石の曲線を設置する*  
  `//curve stone 3 -h`  

>頂点の設定は、任意の地点を順番に設定しないと線にならないので注意。  
  工夫すれば曲線の道や川が簡単に作れる。

##### ✅他に使えるやつ

- `//set`コマンド  
ざっくりとした規則性のある構造物を作るのに向いている。クリスタルとかに。  

- `//line`コマンド  
たくさん連続して直線が引ける。城壁とかに。  

#### 7️⃣コマンドを間違えた、分からないとき（コマンドの構文ルール・引数の指定）

いざコマンドを使おうとしたとき、「間違えてるよ！」と表示されたとき、意味が分からなければここを確認しよう。  
`<>`は必須の項目で、`[]`は省略可のオプションとなる。

##### **❓️よくヘルプで出てくる単語**
| 表記         | 内容                        | 例                            |
| ------------- | ------------------------- | ---------------------------- |
| `pattern`   | ブロックの構成（単体 or 混合）         | `stone` / `70%stone,30%dirt` |
| `mask`      | 編集対象を制限                   | `/mask grass_block`          |
| `region`    | 編集範囲（//pos1～//pos2）       | 自動で現在の選択が使われる                |
| `shape`     | 図形の種類（sphere, cylinderなど） | `/brush sphere stone 5`      |
| `radius`    | 半径・サイズ                    | `//sphere dirt 4`       |
| `height`    | 高さ（円柱など）                  | `/brush cylinder stone 5 10` |
| `count`     | 繰り返し回数                    | `/stack 5`                   |
| `angle`     | 回転角度                      | `/rotate 90`                 |
| `offset`    | 方向                | `North`,`Down`,`u`など         |


##### **✳️基本構文の記号**
| 記号     | 名称     | 意味             | 例                             |
| ------ | ------ | -------------- | ----------------------------- |
| `\``      | `\``      | 選択肢            | どれか1つを選ぶ                      |
| `...`  | 繰り返し可能 | 複数要素を指定できる     | `<block> [moreBlocks...]`     |
| `[-x]` | フラグ    | 特定のオプションをONにする | `-h`（空洞）`-r`（相対）など            |
| `!`    | 否定     | 指定したブロックを除外    | `/mask !air`                  |
| `{}`   | グループ   | まとめて扱う         | `/mask <block>{,<block>}`（複数） |
| `=`    | 値指定    | パラメータに値を渡す     | `thickness=3`                 |


##### **⚙代表的なオプション**
| 表記   | 意味                         | 例                                       |
| ---- | -------------------------- | ------------------------------------------ |
| `-a` | 空気ブロックを無視          | `//paste -a`                               |
| `-e` | include entities（エンティティ含む） | `//copy -e`                                |
| `-m` | mask （マスクを適用）                    | `/brush replace stone dirt -m grass_block` |

##### **#️⃣#で始まるやつ**
| キーワード        | 意味            | 例                                    |
| ------------ | ------------- | ------------------------------------ |
| `#clipboard` | クリップボード内の構造   | `/brush #clipboard`                  |
| `#existing`  | 既存ブロックを再利用    | `/mask #existing`                    |
| `#region`    | 編集範囲をマスクとして使う | `/mask #region`                      |
| `#selection` | 現在の選択を参照      | `//stack 3 #selection`                |
| `#light`     | 明るさ条件         | `/mask #light>8`                     |
| `#surfaces`  | 表面ブロックのみ対象    | `/brush sphere stone 5 -m #surfaces` |

##### **🧭方向の指定**
| 指定方法    | 意味 | 略記  |
| ------- | -- | --- |
| `north` | 北  | `n` |
| `south` | 南  | `s` |
| `east`  | 東  | `e` |
| `west`  | 西  | `w` |
| `up`    | 上  | `u` |
| `down`  | 下  | `d` |
| `me`,`forward` | 自分の正面 |`m`,`f`|
| `back`  | 自分の後方 |`b`|
| `left`  | 自分の左側 |`l`|
| `right` | 自分の右側 |`r`|

##### **❗️特定のブロックのオプション指定**  
階段やハーフブロックなど、方角や水没しているかどうかの状態を含むブロックは、こちらから指定しないといけない。  
`<ブロック名>[<プロパティ名>=<値>,<プロパティ名>=<値>...]`  

  **例：** ***南向きで水没した上付きの状態の**オークの階段を設置する*  
  `//set oak_stairs[facing=south,half=top,waterlogged=true]`  

    **例：** ***自動消滅しない水没していない状態の**オークの葉を設置する*  
    `//set oak_leaves[persistent=true,waterlogged=false]`

{/* もはやWorldEdit大全 */}